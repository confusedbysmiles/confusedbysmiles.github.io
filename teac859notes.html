<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Weekly Materials Viewer</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      display: flex;
      height: 100vh;
    }
    .sidebar {
      width: 280px;
      background: #2c3e50;
      color: #ecf0f1;
      display: flex;
      flex-direction: column;
      padding: 15px;
      box-sizing: border-box;
    }
    .sidebar h2 {
      margin: 0 0 15px 0;
      font-size: 18px;
    }
    .week-select {
      margin-bottom: 20px;
      padding: 8px;
      border-radius: 4px;
      border: none;
      font-size: 14px;
    }
    .file-list {
      flex: 1;
      overflow-y: auto;
    }
    .file-item {
      display: flex;
      align-items: center;
      padding: 10px;
      cursor: pointer;
      border-radius: 6px;
      margin-bottom: 6px;
      transition: background 0.2s;
    }
    .file-item:hover {
      background: #34495e;
    }
    .file-icon {
      margin-right: 10px;
      font-size: 18px;
    }
    .viewer {
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    .viewer-header {
      background: #34495e;
      color: #fff;
      padding: 10px;
      font-size: 16px;
    }
    .viewer-content {
      flex: 1;
      min-height: 400px; /* fallback so iframe doesn't collapse */
      background: #fff;
      position: relative;
      overflow: hidden;
    }
    .embed-container {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
    }
    .embed-container iframe {
      width: 100%; height: 100%;
      border: none;
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <h2>Weekly Materials</h2>
    <select class="week-select" id="weekSelect">
      <option value="week2">Week 1</option>
      <option value="week2">Week 2</option>
      <option value="week3">Week 3</option>
      <option value="week4">Week 4</option>
      <option value="week5">Week 5</option>
      <option value="week5">Week 6</option>
      <option value="week5">Week 7</option>
      <option value="week5">Week 8</option>
      <option value="week5">Week 9</option>
      <option value="week5">Week 10</option>
      <option value="week5">Week 11</option>
      <option value="week5">Week 12</option>
      <option value="week5">Week 13</option>
      <option value="week5">Week 14</option>
      <option value="week5">Week 15</option>
      <!-- Add more weeks as needed -->
    </select>
    <div class="file-list" id="fileList">
      Select a week to view files.
    </div>
  </div>

  <div class="viewer">
    <div class="viewer-header" id="viewerHeader">No file selected</div>
    <div class="viewer-content" id="viewerContent">
      <div class="embed-container">
        <iframe id="fileViewer"
          src=""
          allow="autoplay; fullscreen"
          allowfullscreen>
        </iframe>
      </div>
    </div>
  </div>

  <script>
    const weeklyMaterials = {
      week1: {
        folderName: "Week 1: Knowledge Work, Learning, & Design",
        start: "2025-08-21",
        end: "2025-08-28",
        files: [
          { name: "Week 1 Slides", icon: "ðŸ“„", url: "https://docs.google.com/presentation/d/1F6TU4_e1wvPbWXYkCm3m_BSDSKRumptvUbje1IDRL2M/eembed?start=false&loop=false&delayms=3000" }
        ]
      },
      week2: {
        folderName: "Week 2: Rhizome, Weak Theory, Math, and Speculative Design",
        start: "2025-08-29",
        end: "2025-09-03",
        files: [
          { name: "Week 2 Overview.pdf", icon: "ðŸ“„", url: "https://drive.google.com/file/d/1s6Lo43wlg5BbN06gVwqY1EoOCFQZ6A4G/preview" }
        ]
      },
    week3: {
      folderName: "Week 3: Decentering Education",
      start: "2025-09-04",
      end: "2025-09-10",
      files: [
        {
          name: "Week 3 Slides",
          icon: "ðŸ“Š",
          url: "https://docs.google.com/presentation/d/1EYQPPFCJhH0kP0ckije6zcApFi3nqJ6lx6WgUdBfigA/embed?start=false&loop=false&delayms=3000"
        },
        {
          name: "Claude Reading Work.docx",
          icon: "ðŸ“‘",
          url: "https://docs.google.com/document/d/YOUR_FILE_ID/preview"
        },
        {
          name: "Additional Reading.pdf",
          icon: "ðŸ“˜",
          url: "https://drive.google.com/file/d/YOUR_FILE_ID/preview"
        }
      ]
    },

      week4: {
        folderName: "Week 4: Epistemology Ontology, and HCD",
        start: "2025-09-11",
        end: "2025-09-17",
        files: [
          { name: "Week 4 Reading.docx", icon: "ðŸ“‘", url: "https://docs.google.com/document/d/YOUR_FILE_ID/preview" }
        ]
      },
      week5: {
        folderName: "Week 5: Curriculum Theory",
        start: "2025-09-18",
        end: "2025-09-24",
        files: [
          { name: "Week 5 Resources.pdf", icon: "ðŸ“‚", url: "https://drive.google.com/file/d/YOUR_FILE_ID/preview" }
        ]
      }
    };

    const weekSelect = document.getElementById("weekSelect");
    const fileList = document.getElementById("fileList");
    const fileViewer = document.getElementById("fileViewer");
    const viewerHeader = document.getElementById("viewerHeader");

    function displayFiles(week) {
      fileList.innerHTML = "";
      if (!week || !week.files || week.files.length === 0) {
        fileList.innerHTML = "<p>No files available.</p>";
        return;
      }
      week.files.forEach(file => {
        const div = document.createElement("div");
        div.className = "file-item";
        div.innerHTML = `<span class="file-icon">${file.icon}</span>${file.name}`;
        div.onclick = () => {
          viewerHeader.textContent = file.name;
          fileViewer.src = file.url;
        };
        fileList.appendChild(div);
      });
    }

    function getCurrentWeekKey() {
      const today = new Date();
      for (const [weekKey, weekData] of Object.entries(weeklyMaterials)) {
        if (!weekData.start || !weekData.end) continue; // skip placeholders
        const startDate = new Date(weekData.start);
        const endDate = new Date(weekData.end);
        if (today >= startDate && today <= endDate) {
          return weekKey;
        }
      }
      return null;
    }

    // Initialize page
    const currentWeek = getCurrentWeekKey();
    if (currentWeek && weeklyMaterials[currentWeek]) {
      weekSelect.value = currentWeek;
      displayFiles(weeklyMaterials[currentWeek]);
    } else {
      // fallback to Week 2
      weekSelect.value = "week2";
      displayFiles(weeklyMaterials.week2);
    }

    weekSelect.addEventListener("change", () => {
      const week = weekSelect.value;
      displayFiles(weeklyMaterials[week]);
      viewerHeader.textContent = "No file selected";
      fileViewer.src = "";
    });
  </script>
</body>
</html>
